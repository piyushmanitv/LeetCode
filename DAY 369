1390. Four Divisors


Given an integer array nums, return the sum of divisors of the integers in that array that have exactly four divisors. If there is no such integer in the array, return 0.









class Solution {
public:
    int sumFourDivisors(vector<int>& nums) {
        int totalSum = 0;
        for (int value : nums) {
            int divisorSum = computeFourDivisorSum(value);
            if (divisorSum != 0) {
                totalSum += divisorSum;
            }
        }
        return totalSum;
    }

private:
    int computeFourDivisorSum(int number) {
        int root = round(cbrt(number));
        if ((long long)root * root * root == number && checkPrime(root)) {
            return 1 + root + root * root + number;
        }
        for (int factor = 2; factor * factor <= number; factor++) {
            if (number % factor == 0) {
                int other = number / factor;
                if (factor != other && checkPrime(factor) && checkPrime(other)) {
                    return 1 + factor + other + number;
                }
                return 0;
            }
        }
        return 0;
    }

    bool checkPrime(int num) {
        if (num < 2) return false;
        for (int div = 2; div * div <= num; div++) {
            if (num % div == 0) return false;
        }
        return true;
    }
};
